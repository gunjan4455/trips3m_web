<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app-v2/modules/preferences/edit/TripPreferences.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../index.html">All files</a> / <a href="index.html">app-v2/modules/preferences/edit</a> TripPreferences.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">19.35% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>6/31</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">21.43% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>6/28</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import React from 'react';
import PropTypes from 'prop-types';
import { Field, reduxForm, formValueSelector } from 'redux-form';
import { connect } from 'react-redux';
&nbsp;
import { Hotel } from 'helpers/Icon/Icon';
import HotelSelector from '../components/HotelSelector';
import FlightBooking from '../fields/FlightBooking';
import CabFields from '../fields/CabFields';
import BudgetField from '../fields/BudgetField';
import SingleValuedField from '../fields/SingleValuedField';
import Header from './Header';
import { getOtherPreferencesOptions } from "../helpers";
import {
  CabCustomizationDetail as CabCustomizations,
  FlightCustomizationDetail as FlightCustomization,
  HotelRequiredIds
} from "../constants";
&nbsp;
const TripPreferences = <span class="fstat-no" title="function not covered" >({</span>
                           handleSubmit, submitting, preferences,
                           flightAnswerValue, hotelStarsValues, singleOptionValues
                         }) =&gt; {
&nbsp;
  const noHotelValue = <span class="cstat-no" title="statement not covered" >hotelStarsValues &amp;&amp; hotelStarsValues[HotelRequiredIds.NOT_REQUIRED];</span>
&nbsp;
  const getOtherPreferences = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(o</span>therOptions, limit = <span class="branch-0 cbranch-no" title="branch not covered" >0,</span> offset = <span class="branch-0 cbranch-no" title="branch not covered" >0)</span> =&gt; {</span>
<span class="cstat-no" title="statement not covered" >    limit = limit || otherOptions.length;</span>
    const otherFields = <span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >    for (let i = offset; i &lt; limit; i += 1) {</span>
<span class="cstat-no" title="statement not covered" >      otherFields.push(</span>
        &lt;div key={otherOptions[i].id} className="row row- m0 mb8 pb2"&gt;
          &lt;SingleValuedField preference={otherOptions[i]} /&gt;
        &lt;/div&gt;
      );
    }
<span class="cstat-no" title="statement not covered" >    return otherFields;</span>
  };
&nbsp;
  const { preferencesData } = <span class="cstat-no" title="statement not covered" >preferences;</span>
  const hotelPreference = <span class="cstat-no" title="statement not covered" >{ ...preferencesData.hotelCategoryCustomizations[0] };</span>
  const flightPreference = <span class="cstat-no" title="statement not covered" >preferencesData.customizations.find(<span class="fstat-no" title="function not covered" >e </span>=&gt; <span class="cstat-no" title="statement not covered" >e.id === FlightCustomization.id)</span>;</span>
  const flightBudget = <span class="cstat-no" title="statement not covered" >preferencesData.flightBudget;</span>
  const hotelBudget = <span class="cstat-no" title="statement not covered" >preferencesData.hotelBudgets;</span>
  const cabRequiredPreference = <span class="cstat-no" title="statement not covered" >preferencesData.customizations.find(<span class="fstat-no" title="function not covered" >e </span>=&gt; <span class="cstat-no" title="statement not covered" >e.id === CabCustomizations.required.id)</span>;</span>
  const cabQuestionsPreference = <span class="cstat-no" title="statement not covered" >preferencesData.customizations.find(<span class="fstat-no" title="function not covered" >e </span>=&gt; <span class="cstat-no" title="statement not covered" >e.id === CabCustomizations.questions.id)</span>;</span>
  const destinationsList = <span class="cstat-no" title="statement not covered" >preferences.destinationsList;</span>
  const otherPreferenceOptions = <span class="cstat-no" title="statement not covered" >getOtherPreferencesOptions(preferences);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  hotelPreference.options = [...preferencesData.hotelCategoryCustomizations[0].options, {</span>
    id: 96,
    name: 'No Hotel'
  }];
&nbsp;
<span class="cstat-no" title="statement not covered" >  return (</span>
    &lt;div className='sbcw pb48'&gt;
      &lt;div className='absolute t0 l0 wfull r0'&gt;&lt;Header /&gt;&lt;/div&gt;
&nbsp;
      &lt;div className='p15'&gt;
        &lt;form onSubmit={handleSubmit}&gt;
          &lt;div className='mb15'&gt;
            &lt;label htmlFor='destination' className='flex alignCenter m0 f14p fw7 mb8'&gt;
              &lt;span className='mr8 block input-24'&gt;&lt;Hotel /&gt;&lt;/span&gt;&lt;span&gt;Hotels&lt;/span&gt;
            &lt;/label&gt;
            &lt;div className='bb'&gt;
              &lt;Field
                name='hotelCategories'
                component={HotelSelector}
                options={hotelPreference.options}
              /&gt;
            &lt;/div&gt;
          &lt;/div&gt;
&nbsp;
          &lt;div className='mb15'&gt;
            &lt;FlightBooking flightOptions={flightPreference} /&gt;
          &lt;/div&gt;
&nbsp;
          &lt;div className='mb15'&gt;
            &lt;BudgetField
              flightAnswerValue={flightAnswerValue}
              hotelStarsValues={hotelStarsValues}
              noHotelValue={noHotelValue}
              flightBudget={flightBudget}
              hotelBudget={hotelBudget}
            /&gt;
          &lt;/div&gt;
&nbsp;
          &lt;div&gt;
            &lt;CabFields
              cabRequiredPreference={cabRequiredPreference}
              cabQuestionsPreference={cabQuestionsPreference}
              destinationsList={destinationsList}
              singleOptionValues={singleOptionValues}
            /&gt;
          &lt;/div&gt;
&nbsp;
          &lt;div&gt;
            &lt;label htmlFor='bookingTime' className='block m0 f14p fw7 sfc6 mb8 hide'&gt;I Will Book&lt;/label&gt;
            {getOtherPreferences(otherPreferenceOptions, 1)}
          &lt;/div&gt;
&nbsp;
          {getOtherPreferences(otherPreferenceOptions, 0, 1)}
&nbsp;
          &lt;div className='mb15'&gt;
            &lt;label htmlFor='additional' className='block m0 f14p fw7 sfc6 mb8'&gt;Additional Preferences&lt;/label&gt;
            &lt;Field
              name="info"
              component="textarea"
              type="text"
              placeholder="Want to say anything?"
              className="border textarea wfull p15 at_editpreftextbox"
            /&gt;
          &lt;/div&gt;
&nbsp;
          &lt;div className='fixed b0 p8 wfull sbcw bs6 l0 r0 bt z2'&gt;
            &lt;button type='submit' disabled={submitting} className='btn-filled-pri-large wfull'&gt;Confirm&lt;/button&gt;
          &lt;/div&gt;
&nbsp;
        &lt;/form&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};
&nbsp;
TripPreferences.propTypes = {
  preferences: PropTypes.object,
  flightAnswerValue: PropTypes.object,
  hotelStarsValues: PropTypes.object,
  singleOptionValues: PropTypes.object,
  submitting: PropTypes.bool,
  handleSubmit: PropTypes.func
};
&nbsp;
TripPreferences.defaultProps = {};
&nbsp;
const TripPreferencesForm = reduxForm({
  form: 'TripPreferences' // a unique identifier for this form
})(TripPreferences);
&nbsp;
&nbsp;
const selector = formValueSelector('TripPreferences'); // &lt;-- same as form name
const TripPreferencesConnectedForm = connect(<span class="fstat-no" title="function not covered" >(s</span>tate) =&gt; {
  // can select values individually
  const singleOptionValues = <span class="cstat-no" title="statement not covered" >selector(state, 'singleValueOptions');</span>
  const flightAnswerValue = <span class="cstat-no" title="statement not covered" >selector(state, 'flightAnswerAttributes');</span>
  const hotelStarsValues = <span class="cstat-no" title="statement not covered" >selector(state, 'hotelCategories');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return {</span>
    singleOptionValues,
    flightAnswerValue,
    hotelStarsValues,
  };
})(TripPreferencesForm);
&nbsp;
&nbsp;
export default TripPreferencesConnectedForm;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Tue Jul 23 2019 11:08:43 GMT+0530 (IST)
</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
</body>
</html>
